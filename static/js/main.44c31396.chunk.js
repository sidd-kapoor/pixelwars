(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{106:function(e,t,n){e.exports=n.p+"static/media/logo1.b746ff34.png"},108:function(e,t,n){e.exports=n(252)},113:function(e,t,n){},140:function(e,t){},251:function(e,t,n){},252:function(e,t,n){"use strict";n.r(t);var o=n(0),r=n.n(o),a=n(99),i=n.n(a),s=(n(113),n(100)),c=n(6),l=n(7),u=n(9),m=n(8),h=n(10),d=n(101),p=n.n(d),w=n(107),g=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(u.a)(this,Object(m.a)(t).call(this,e))).toggleFullScreen=function(){if(window.innerWidth<800&&!window.screenTop&&!window.screenY&&!/iPhone|iPad|iPod/i.test(navigator.userAgent)){var e=window.document,t=e.documentElement,n=t.requestFullscreen||t.mozRequestFullScreen||t.webkitRequestFullScreen||t.msRequestFullscreen,o=e.exitFullscreen||e.mozCancelFullScreen||e.webkitExitFullscreen||e.msExitFullscreen;e.fullscreenElement||e.mozFullScreenElement||e.webkitFullscreenElement||e.msFullscreenElement?o.call(e):n.call(t)}},n.toggler=function(){n.setState(function(e){return{toggle:!e.toggle}})},n.state={toggle:!1},n}return Object(h.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this.toggleFullScreen()}},{key:"render",value:function(){var e=this,t=this.state.toggle;return r.a.createElement("div",{className:"button-container"},t?r.a.createElement("div",{onClick:this.toggler},r.a.createElement(w.a,{onChange:this.props.selectColor,className:"color-swatch",color:this.props.currentColor})):null,r.a.createElement("div",{className:"clear"},r.a.createElement("button",{onClick:this.props.clearBoard},"Clear")),r.a.createElement("div",{className:"fullscreen-mode"},r.a.createElement("button",{onClick:function(){e.toggleFullScreen(),e.props.leave(),e.props.leaveRoom()}},"Leave Room"),r.a.createElement("button",{onClick:this.toggler},this.state.toggle?"Hide Colors":"Show Colors")))}}]),t}(o.Component),f=function(e){function t(){return Object(c.a)(this,t),Object(u.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props.userList.map(function(e){return r.a.createElement("span",{key:e.id,style:{color:e.color}},e.username)});return r.a.createElement("div",{className:"user-list"},e)}}]),t}(o.Component),v=p()("http://192.168.1.1:4010"),b=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(u.a)(this,Object(m.a)(t).call(this,e))).drawLine=function(e,t,o,r,a,i,s){var c=n.state.whiteboard.getContext("2d");if(c.beginPath(),c.moveTo(e,t),c.lineTo(o,r),c.strokeStyle=a,c.lineWidth=2,c.stroke(),c.closePath(),i){var l=window.innerWidth,u=window.innerHeight;n.setState(function(){if(!isNaN(e/l))return v.emit("drawing",{x0:e/l,y0:t/u,x1:o/l,y1:r/u,color:a,room:n.state.room,force:s}),{cleared:!1}})}},n.onMouseDown=function(e){n.setState(function(){return{currentX:e.clientX,currentY:e.clientY,drawing:!0}})},n.onMouseUp=function(e){n.setState(function(){return{drawing:!1,currentX:e.clientX,currentY:e.clientY}})},n.onMouseMove=function(e){n.state.drawing&&n.setState(function(){return{currentX:e.clientX,currentY:e.clientY}},n.drawLine(n.state.currentX,n.state.currentY,e.clientX,e.clientY,n.state.currentColor,!0))},n.onTouchMove=function(e){n.state.drawing&&(console.log(),n.setState(function(){return n.drawLine(n.state.currentX,n.state.currentY,e.touches[0].clientX,e.touches[0].clientY,n.state.currentColor,!0,e.touches[0].force),{currentX:e.touches[0].clientX,currentY:e.touches[0].clientY}}))},n.onResize=function(){n.setState({windowWidth:window.innerWidth,windowHeight:window.innerHeight})},n.throttle=function(e,t){var n=(new Date).getTime();return function(){var o=(new Date).getTime();o-n>=t&&(n=o,e.apply(null,arguments))}},n.selectColor=function(e){n.setState(function(){return v.emit("color-change",{id:n.state.id,username:n.state.username,room:n.state.room,color:e.hex}),{currentColor:e.hex}})},n.clearBoard=function(){v.emit("clear",n.state.room)},n.leave=function(){v.emit("leaveroom",{id:n.state.id,room:n.state.room})},n.state={id:null,drawing:!1,currentColor:"red",windowHeight:window.innerHeight,windowWidth:window.innerWidth,cleared:!1,username:null,room:null,userList:[]},n.whiteboard=r.a.createRef(),v.emit("join",{username:n.props.username,room:n.props.room}),v.on("joined",function(e){n.setState({id:e.id,username:e.username,room:e.room})}),v.on("users",function(e){n.setState({userList:e})}),v.on("cleared",function(){n.state.whiteboard.getContext("2d").clearRect(0,0,window.innerWidth,window.innerHeight)}),v.on("drawing",function(e){var t=window.innerWidth,o=window.innerHeight;isNaN(e.x0/t)||isNaN(e.y0)||n.drawLine(e.x0*t,e.y0*o,e.x1*t,e.y1*o,e.color)}),n}return Object(h.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this.setState({whiteboard:this.whiteboard.current}),this.whiteboard.current.style.height=window.innerHeight,this.whiteboard.current.style.width=window.innerWidth,this.whiteboard.current.addEventListener("mousedown",this.onMouseDown,!1),this.whiteboard.current.addEventListener("mouseup",this.onMouseUp,!1),this.whiteboard.current.addEventListener("mouseout",this.onMouseUp,!1),this.whiteboard.current.addEventListener("mousemove",this.throttle(this.onMouseMove,5),!1),this.whiteboard.current.addEventListener("touchstart",this.onMouseDown,!1),this.whiteboard.current.addEventListener("touchmove",this.throttle(this.onTouchMove,5),!1),this.whiteboard.current.addEventListener("touchend",this.onMouseUp,!1),window.addEventListener("resize",this.onResize)}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("h1",{className:"room-name"},this.state.room),r.a.createElement("canvas",{height:"".concat(this.state.windowHeight,"px"),width:"".concat(this.state.windowWidth,"px"),ref:this.whiteboard,className:"whiteboard"}),r.a.createElement(f,{userList:this.state.userList}),r.a.createElement(g,{clearBoard:this.clearBoard,currentColor:this.state.currentColor,selectColor:this.selectColor,leaveRoom:this.props.clearRoom,leave:this.leave}))}}]),t}(o.Component),E=n(106),y=n.n(E),j=function(e){function t(){return Object(c.a)(this,t),Object(u.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"login"},r.a.createElement("div",null,r.a.createElement("div",{className:"login-container"},r.a.createElement("div",{className:"logo-container"},r.a.createElement("h1",{className:"appname just"},"Draw"),r.a.createElement("h1",{className:"appname drw"},"Things"),r.a.createElement("img",{className:"logo",src:y.a})),r.a.createElement("div",null,r.a.createElement("div",{className:"input-container"},r.a.createElement("input",{onKeyPress:function(t){return"Enter"===t.key?e.props.setUsername():null},name:"typing",placeholder:"name",value:this.props.typing,onChange:function(t){return e.props.changeHandler(t.target.name,t.target.value)}})),r.a.createElement("span",{className:"warning-message"},this.props.typing.length>25?this.props.messageName:null),r.a.createElement("div",{className:"input-container"},r.a.createElement("input",{name:"typingRoom",placeholder:"room",onKeyPress:function(t){return"Enter"===t.key?e.props.setUsername():null},value:this.props.typingRoom,onChange:function(t){return e.props.changeHandler(t.target.name,t.target.value)}})),r.a.createElement("span",{className:"warning-message"},this.props.typingRoom.length>25?this.props.messageRoom:null),r.a.createElement("div",{className:"submit-container"},r.a.createElement("button",{onClick:function(){return e.props.setUsername()}},"Join")),r.a.createElement("div",{className:"instructions"},r.a.createElement("h2",null,"Instructions: "),r.a.createElement("p",null,"Type your name and a room name, if the room exists you will join it, if not it will be created for others to join. Anyone in the same room can draw together!"))))))}}]),t}(o.Component),C=(n(251),function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(u.a)(this,Object(m.a)(t).call(this,e))).changeHandler=function(e,t){n.setState(Object(s.a)({},e,t))},n.setUsername=function(){n.state.typing.length<=25&&n.state.typingRoom.length<=25&&n.setState({username:n.state.typing||n.state.username,room:n.state.typingRoom.toUpperCase()})},n.clearRoom=function(){n.setState({username:"",room:"",typingRoom:"",typing:""})},n.state={username:"",typing:"",room:"",typingRoom:"",messageRoom:"The room name must be less than 25 character",messageName:"The your name must be less than 25 character, try abbreviating"},n}return Object(h.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e;window.addEventListener("beforeinstallprompt",function(t){t.preventDefault(),(e=t).prompt(),e.userChoice.then(function(t){"accepted"===t.outcome?console.log("User accepted the A2HS prompt"):console.log("User dismissed the A2HS prompt"),e=null})})}},{key:"render",value:function(){return r.a.createElement("div",{className:"App"},this.state.username&&this.state.room?r.a.createElement(b,Object.assign({clearRoom:this.clearRoom},this.state)):r.a.createElement(j,Object.assign({},this.state,{setUsername:this.setUsername,changeHandler:this.changeHandler})))}}]),t}(o.Component)),k=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function N(e,t){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See http://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}}).catch(function(e){console.error("Error during service worker registration:",e)})}i.a.render(r.a.createElement(C,null),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("/pixelwars",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",function(){var t="".concat("/pixelwars","/service-worker.js");k?(function(e,t){fetch(e).then(function(n){var o=n.headers.get("content-type");404===n.status||null!=o&&-1===o.indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):N(e,t)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(t,e),navigator.serviceWorker.ready.then(function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit http://bit.ly/CRA-PWA")})):N(t,e)})}}()}},[[108,1,2]]]);
//# sourceMappingURL=main.44c31396.chunk.js.map